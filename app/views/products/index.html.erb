<div class="sort-flex-wrapper">
  <h2 class="center">Our Products</h2>

  <div class="btn-group sort-button">
    <button type="button" class="btn btn-outline-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Sort By
    </button>
    <div class="dropdown-menu">

      <%= link_to "Product Price Greatest", products_path(:highest_price => 'highest_price'), class: "dropdown-item" %>
      <%= link_to "Product Price Least", products_path(:lowest_price => 'lowest_price'), class: "dropdown-item" %>
      <%= link_to "Product Name A-Z", products_path(:az => 'az'), class: "dropdown-item" %>
      <%= link_to "Product Name Z-A", products_path(:za => 'za'), class: "dropdown-item" %>
      <%= link_to "Highest Rated", products_path(:highest_rated => 'highest_rated'), class: "dropdown-item" %>
      <%= link_to "Lowest Rated", products_path(:lowest_rated => 'lowest_rated'), class: "dropdown-item" %>
      <%= link_to "Most Reviews", products_path(:most_reviews => 'most_reviews'), class: "dropdown-item" %>
      <%= link_to "Least Reviews", products_path(:least_reviews => 'least_reviews'), class: "dropdown-item" %>
      <%= link_to "Most Recent Review", products_path(:most_recent => 'most_recent'), class: "dropdown-item" %>
      <%= link_to "Least Recent Review", products_path(:least_recent => 'least_recent'), class: "dropdown-item" %>
      <%= link_to "Newest", products_path(:most_recent_added => 'most_recent_added'), class: "dropdown-item" %>
      <%= link_to "Longest Running", products_path(:least_recent_added => 'least_recent_added'), class: "dropdown-item" %>

    </div>
  </div>
</div>

<% if current_user && current_user.admin %>
  <div class="margin-spacer admin-card-1btn">
    <div class="center">
      <h3>Admin Only</h3>
    </div>
    <p><%= link_to "Create product", new_product_path, class: "btn btn-success" %></p>
  </div>
<% end %>

<div class="products">

  <% if @products.any? %>
    <% @products.each do |product| %>

      <%= render partial: "shared/product-card", locals: { product: product } %>

    <% end %>

  <% else %>
    <p>There are no products yet.</p>
  <% end %>

</div>


<div class="pagination">
  <%= will_paginate @products %>
</div>